<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ndn-lite: ndn-lite/app-support/bootstrapping/secure-sign-on-nrf-sdk-ble/sign-on-basic-client-nrf-sdk-ble.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ndn-lite
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7b0e37da7babb979670076952144507a.html">ndn-lite</a></li><li class="navelem"><a class="el" href="dir_be3c7dcbd0d6c47a6a496f55e459ca14.html">app-support</a></li><li class="navelem"><a class="el" href="dir_6c677613ece510bf5f812ecb0bb1f29f.html">bootstrapping</a></li><li class="navelem"><a class="el" href="dir_ec42555383f3140fe935697bb11d0edb.html">secure-sign-on-nrf-sdk-ble</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sign-on-basic-client-nrf-sdk-ble.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sign-on-basic-client-nrf-sdk-ble_8h_source.html">sign-on-basic-client-nrf-sdk-ble.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tlv_8h_source.html">../../../encode/tlv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sign-on-basic-client_8h_source.html">../secure-sign-on/sign-on-basic-client.h</a>&quot;</code><br />
<code>#include &quot;../../../adaptation/ndn-nrf-ble-adaptation/nrf-sdk-ble-consts.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ndn-error-code_8h_source.html">../../../ndn-error-code.h</a>&quot;</code><br />
<code>#include &quot;sdk_common.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a27eaff7ab23aed5ceb1f87f67dda1b4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#a27eaff7ab23aed5ceb1f87f67dda1b4f">TEMP_BUF_LENGTH</a>&#160;&#160;&#160;500</td></tr>
<tr class="separator:a27eaff7ab23aed5ceb1f87f67dda1b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a38a5d4cad8f1d3a093cf06a308f24322"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8h.html#afc08848e758d3518ee3413179baa0389">sign_on_basic_client_nrf_sdk_ble_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#a38a5d4cad8f1d3a093cf06a308f24322">get_sign_on_basic_client_nrf_sdk_ble_instance</a> ()</td></tr>
<tr class="memdesc:a38a5d4cad8f1d3a093cf06a308f24322"><td class="mdescLeft">&#160;</td><td class="mdescRight">There should be only one <a class="el" href="structsign__on__basic__client__nrf__sdk__ble.html">sign_on_basic_client_nrf_sdk_ble</a>.  <a href="#a38a5d4cad8f1d3a093cf06a308f24322">More...</a><br /></td></tr>
<tr class="separator:a38a5d4cad8f1d3a093cf06a308f24322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b823d9ab397dfeaad78fc3ce6f7f5b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#a1b823d9ab397dfeaad78fc3ce6f7f5b7">m_on_transport_connected</a> (uint32_t conn_handle)</td></tr>
<tr class="separator:a1b823d9ab397dfeaad78fc3ce6f7f5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824a68214d4ed596cef28d462b36607f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#a824a68214d4ed596cef28d462b36607f">m_on_transport_disconnected</a> ()</td></tr>
<tr class="separator:a824a68214d4ed596cef28d462b36607f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05f77039715d4ad108b0c9bee7b1315"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#ac05f77039715d4ad108b0c9bee7b1315">m_on_transport_hvn_tx_complete</a> (uint32_t conn_handle)</td></tr>
<tr class="separator:ac05f77039715d4ad108b0c9bee7b1315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d4c372549e1ff6ef8b209b315023ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#ae9d4c372549e1ff6ef8b209b315023ff">m_on_transport_adv_stopped</a> ()</td></tr>
<tr class="separator:ae9d4c372549e1ff6ef8b209b315023ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a7b04a1b51782fc04a8385b4affbab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#a18a7b04a1b51782fc04a8385b4affbab">m_on_transport_mtu_rqst</a> (uint32_t conn_handle)</td></tr>
<tr class="separator:a18a7b04a1b51782fc04a8385b4affbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1d630e80688e5ba900adbf677840ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#a9e1d630e80688e5ba900adbf677840ad">m_on_recvd_data_callback</a> (const uint8_t *payload, uint32_t payload_len)</td></tr>
<tr class="separator:a9e1d630e80688e5ba900adbf677840ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3b936e94c445a162e8fb6c8c64ef02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#aef3b936e94c445a162e8fb6c8c64ef02">sign_on_basic_client_nrf_sdk_ble_construct</a> (uint8_t variant, const uint8_t *device_identifier_p, uint32_t device_identifier_len, const uint8_t *device_capabilities_p, uint32_t device_capabilities_len, const uint8_t *secure_sign_on_code_p, const uint8_t *KS_pub_p, uint32_t KS_pub_len, const uint8_t *KS_pri_p, uint32_t KS_pri_len, void(*on_sign_on_completed)(int result_code))</td></tr>
<tr class="memdesc:aef3b936e94c445a162e8fb6c8c64ef02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to construct a sign_on_basic_client_nrf_sdk_ble_t.  <a href="#aef3b936e94c445a162e8fb6c8c64ef02">More...</a><br /></td></tr>
<tr class="separator:aef3b936e94c445a162e8fb6c8c64ef02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6897d31a997987b626812b395fd9cef3"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8c.html#a6897d31a997987b626812b395fd9cef3">m_on_sign_on_completed</a> )(int result_code)</td></tr>
<tr class="separator:a6897d31a997987b626812b395fd9cef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a27eaff7ab23aed5ceb1f87f67dda1b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27eaff7ab23aed5ceb1f87f67dda1b4f">&#9670;&nbsp;</a></span>TEMP_BUF_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEMP_BUF_LENGTH&#160;&#160;&#160;500</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a38a5d4cad8f1d3a093cf06a308f24322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a5d4cad8f1d3a093cf06a308f24322">&#9670;&nbsp;</a></span>get_sign_on_basic_client_nrf_sdk_ble_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sign-on-basic-client-nrf-sdk-ble_8h.html#afc08848e758d3518ee3413179baa0389">sign_on_basic_client_nrf_sdk_ble_t</a>* get_sign_on_basic_client_nrf_sdk_ble_instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>There should be only one <a class="el" href="structsign__on__basic__client__nrf__sdk__ble.html">sign_on_basic_client_nrf_sdk_ble</a>. </p>
<p>Use this function to get the singleton instance. If the instance has not been initialized, call sign_on_basic_client_nrf_sdk_ble_construct first. </p>

</div>
</div>
<a id="a9e1d630e80688e5ba900adbf677840ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1d630e80688e5ba900adbf677840ad">&#9670;&nbsp;</a></span>m_on_recvd_data_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m_on_recvd_data_callback </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>payload_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae9d4c372549e1ff6ef8b209b315023ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d4c372549e1ff6ef8b209b315023ff">&#9670;&nbsp;</a></span>m_on_transport_adv_stopped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m_on_transport_adv_stopped </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1b823d9ab397dfeaad78fc3ce6f7f5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b823d9ab397dfeaad78fc3ce6f7f5b7">&#9670;&nbsp;</a></span>m_on_transport_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m_on_transport_connected </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>conn_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a824a68214d4ed596cef28d462b36607f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a824a68214d4ed596cef28d462b36607f">&#9670;&nbsp;</a></span>m_on_transport_disconnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m_on_transport_disconnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac05f77039715d4ad108b0c9bee7b1315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05f77039715d4ad108b0c9bee7b1315">&#9670;&nbsp;</a></span>m_on_transport_hvn_tx_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m_on_transport_hvn_tx_complete </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>conn_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a18a7b04a1b51782fc04a8385b4affbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18a7b04a1b51782fc04a8385b4affbab">&#9670;&nbsp;</a></span>m_on_transport_mtu_rqst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m_on_transport_mtu_rqst </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>conn_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aef3b936e94c445a162e8fb6c8c64ef02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef3b936e94c445a162e8fb6c8c64ef02">&#9670;&nbsp;</a></span>sign_on_basic_client_nrf_sdk_ble_construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sign_on_basic_client_nrf_sdk_ble_construct </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>variant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>device_identifier_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>device_identifier_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>device_capabilities_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>device_capabilities_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>secure_sign_on_code_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>KS_pub_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>KS_pub_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>KS_pri_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>KS_pri_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(int result_code)&#160;</td>
          <td class="paramname"><em>on_sign_on_completed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to construct a sign_on_basic_client_nrf_sdk_ble_t. </p>
<p>All buffers passed in will be copied into the sign_on_basic_client object associated with this sign_on_basic_client_nrf_sdk_ble_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">variant</td><td>This is the variant of the Sign-On basic protocol that you want to initialize. This will change the function pointers that are passed to <a class="el" href="structsign__on__basic__sec__intf.html">sign_on_basic_sec_intf</a> to do security related operations, like signature generation. See secure-sign-on-basic-consts.h for all of the variants, as</td></tr>
  </table>
  </dd>
</dl>
<p>well as descriptions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device_identifier_p</td><td>See the <a class="el" href="structsign__on__basic__client__t.html">sign_on_basic_client_t</a> documentation in "sign-on-basic-client.h". </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">device_identifier_len</td><td>"                                               " </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">device_capabilities_p</td><td>"                                               "</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">device_capabilities_len</td><td>"                                               " </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">secure_sign_on_code_p</td><td>"                                               " </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KS_pub_p</td><td>"                                               " </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KS_pub_len</td><td>"                                               " </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KS_pri_p</td><td>"                                               " </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KS_pri_len</td><td>"                                               "</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">on_sign_on_completed</td><td>Callback function to be triggered when the sign on process has been completed. The sign on process is considered finished when the finish message has been successfully generated and sent. See <a class="el" href="ndn-error-code_8h.html">ndn-error-code.h</a> for a list of possible return values here. The result_code parameter will be NDN_SUCCESS upon a successfully completed sign-on, and will be a return code from the Sign-on Protocol or Sign-On Protocol Over BLE section of <a class="el" href="ndn-error-code_8h.html">ndn-error-code.h</a> otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6897d31a997987b626812b395fd9cef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6897d31a997987b626812b395fd9cef3">&#9670;&nbsp;</a></span>m_on_sign_on_completed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* m_on_sign_on_completed) (int result_code)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
